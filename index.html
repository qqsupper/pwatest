<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="manifest" href="./mainfest3.json">
    <link rel="stylesheet" href="./css/main.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="fanman">
    <link rel="apple-touch-icon" href="images/icons/icon-152x152.png">
    <meta name="msapplication-TileImage" content="images/icons/icon-144x144.png">
    <meta name="msapplication-TileColor" content="#2F3BA2">
    <script src='./js/offline.js'></script>
</head>
<body>

    <div id='pwa' onclick="add()" >pwa1234</div>
    <img src="./images/offline.png" alt="">
   
    <a href="./html//offline.html">跳到离线页面</a>




<script>
    if('serviceWorker' in navigator){
        navigator.serviceWorker
                .register('./index.js',{scope:'/pwatest/'})
                .then(registeration=>{console.log('ServiceWorker 注册成功,作用域为:',registeration.scope)
            
                        // 手动更新
                        registeration.update();
            })
                .catch(err=>console.log('service 注册失败:'+err))
    }

   
</script>
</body>
</html>